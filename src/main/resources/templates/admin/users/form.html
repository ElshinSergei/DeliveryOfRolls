<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/admin-layout :: html(content=~{::main})}">
<head>
    <meta charset="UTF-8">
    <title th:text="${pageTitle}">Редактирование пользователя</title>
</head>
<body>
<main>
    <div class="admin-container">
        <div class="admin-header">
            <h1>Редактирование блюда</h1>
            <a href="/admin/users" class="btn btn-secondary">← Назад</a>
        </div>

        <form th:action="@{/admin/users/{id}/save(id=${user.id})}" method="post">

            <!-- Имя (только для чтения) -->
            <div class="form-group">
                <label>Имя</label>
                <input type="text" class="form-control" th:value="${user.firstName + ' ' + user.lastName}" disabled readonly>
            </div>

            <!-- Email (только для чтения) -->
            <div class="form-group">
                <label>Email</label>
                <input type="email" class="form-control" th:value="${user.email}" disabled readonly>
            </div>

            <!-- Телефон (только для чтения) -->
            <div class="form-group">
                <label>Телефон</label>
                <input type="text" class="form-control" th:value="${user.phone}" disabled readonly>
            </div>

            <div class="form-group">
                <label>Роль</label>
                <select name="role" class="form-control">
                    <option th:each="role : ${roles}"
                            th:value="${role}"
                            th:text="${role.name().replace('ROLE_', '')}"
                            th:selected="${role == user.role}">
                    </option>
                </select>
            </div>

            <!-- Статус -->
            <div class="form-group checkbox">
                <input type="checkbox" name="enabled" id="enabled" th:checked="${user.enabled}">
                <label for="enabled">Активен (не заблокирован)</label>
            </div>

            <button type="submit">Сохранить</button>
        </form>
    </div>
</main>
</body>
</html>