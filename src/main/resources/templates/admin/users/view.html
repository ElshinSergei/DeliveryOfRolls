<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/admin-layout :: html(content=~{::main})}">
<head>
    <meta charset="UTF-8">
    <title th:text="${pageTitle}">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</title>
</head>
<body>
<main>
    <div class="container">
        <div class="header">
            <h1>üë§ –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h1>
            <a href="/admin/users" class="btn btn-back">‚Üê –ù–∞–∑–∞–¥</a>
        </div>

        <div class="user-card">
            <div class="info-row">
                <span class="info-label">ID:</span>
                <span class="info-value" th:text="${user.id}">1</span>
            </div>
            <div class="info-row">
                <span class="info-label">–ò–º—è:</span>
                <span class="info-value" th:text="${user.firstName + ' ' + user.lastName}">–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤</span>
            </div>
            <div class="info-row">
                <span class="info-label">Email:</span>
                <span class="info-value" th:text="${user.email}">ivan@mail.com</span>
            </div>
            <div class="info-row">
                <span class="info-label">–¢–µ–ª–µ—Ñ–æ–Ω:</span>
                <span class="info-value" th:text="${user.phone != null ? user.phone : '‚Äî'}">+7 (999) 123-45-67</span>
            </div>
            <div class="info-row">
                <span class="info-label">–†–æ–ª—å:</span>
                <span class="info-value" th:text="${user.role.name().replace('ROLE_', '')}">USER</span>
            </div>
            <div class="info-row">
                <span class="info-label">–°—Ç–∞—Ç—É—Å:</span>
                <span class="info-value">
                    <span th:if="${user.enabled}" class="badge badge-active">–ê–∫—Ç–∏–≤–µ–Ω</span>
                    <span th:if="${!user.enabled}" class="badge badge-blocked">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω</span>
                </span>
            </div>
            <div class="info-row">
                <span class="info-label">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</span>
                <span class="info-value" th:text="${#temporals.format(user.registeredAt, 'dd.MM.yyyy HH:mm')}">
                    01.01.2024 15:30
                </span>
            </div>

            <div style="text-align: right; margin-top: 30px;">
                <a th:href="@{/admin/users/{id}/edit(id=${user.id})}" class="btn btn-edit">
                    ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                </a>
            </div>
        </div>

        <!-- –ó–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
        <h2 style="margin-top: 40px;">üì¶ –ó–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
        <table class="orders-table">
            <thead>
            <tr>
                <th>ID –∑–∞–∫–∞–∑–∞</th>
                <th>–î–∞—Ç–∞</th>
                <th>–°—É–º–º–∞</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="order : ${user.orders}" th:if="${user.orders != null}">
                <td>#[[${order.id}]]</td>
                <td th:text="${#temporals.format(order.createdAt, 'dd.MM.yyyy HH:mm')}">16.02.2026 15:30</td>
                <td th:text="${#numbers.formatDecimal(order.totalPrice, 0, 0)} + ' ‚ÇΩ'">1250 ‚ÇΩ</td>
                <td th:text="${order.status}">DELIVERED</td>
                <td>
                    <a th:href="@{/admin/orders/{id}(id=${order.id})}" style="color: #007bff;">–ü—Ä–æ—Å–º–æ—Ç—Ä</a>
                </td>
            </tr>
            <tr th:if="${user.orders == null or user.orders.isEmpty()}">
                <td colspan="5" style="text-align: center; padding: 30px; color: #666;">
                    –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</main>
</body>
</html>