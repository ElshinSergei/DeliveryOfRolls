<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/admin-layout :: html(content=~{::main})}">
<head>
    <meta charset="UTF-8">
    <title th:text="${pageTitle}">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª—é–¥–∞</title>
</head>
<body>
<main>
    <div class="admin-container">
        <div class="admin-header">
            <h1 th:text="${dish.id == null} ? '‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–ª—é–¥–∞' : '‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª—é–¥–∞'">
                –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–ª—é–¥–∞
            </h1>
            <a href="/admin/dishes" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥</a>
        </div>

        <form th:action="@{/admin/dishes/save}" method="post" th:object="${dish}">
            <input type="hidden" name="id" th:value="${dish.id}">

            <div class="form-group">
                <label>–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                <input type="text" class="form-control" th:field="*{name}" required>
            </div>

            <div class="form-group">
                <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                <textarea class="form-control" th:field="*{description}"></textarea>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>–¶–µ–Ω–∞ *</label>
                    <input type="number" step="1" class="form-control" th:field="*{price}" required>
                </div>
                <div class="form-group">
                    <label>–í–µ—Å (–≥) *</label>
                    <input type="number" class="form-control" th:field="*{weight}" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>–ö–∞–ª–æ—Ä–∏–∏</label>
                    <input type="number" class="form-control" th:field="*{calories}">
                </div>
                <div class="form-group">
                    <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
                    <select class="form-control" name="categoryId" required>
                        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é --</option>
                        <option th:each="cat : ${categories}"
                                th:value="${cat.id}"
                                th:text="${cat.name}"
                                th:selected="${dish.category != null and dish.category.id == cat.id}">
                        </option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label>URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</label>
                <input type="text" class="form-control" th:field="*{imageUrl}"
                       placeholder="/images/dishes/sushi.jpg">
            </div>

            <div class="form-group checkbox">
                <input type="checkbox" th:field="*{available}" checked>
                <label>–î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –∑–∞–∫–∞–∑–∞</label>
            </div>

            <div style="display: flex; gap: 10px; margin-top: 30px;">
                <button type="submit" class="btn btn-primary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <a href="/admin/dishes" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</a>
            </div>
        </form>
    </div>
</main>
</body>
</html>