<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/admin-layout :: html(content=~{::main})}">
<head>
    <meta charset="UTF-8">
    <title th:text="${pageTitle}">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</title>
</head>
<body>
<main>
    <div class="form-container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="form-header">
            <h2 th:text="${category.id == null} ? '‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏' : '‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏'">
                –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            </h2>
            <a href="/admin/categories" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥</a>
        </div>

        <!-- –§–æ—Ä–º–∞ -->
        <form th:action="@{/admin/categories/save}" method="post" th:object="${category}">
            <!-- ID (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è) -->
            <input type="hidden" name="id" th:value="${category.id}">

            <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
            <div class="form-group">
                <label for="name">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ *</label>
                <input type="text" id="name" class="form-control" th:field="*{name}"
                       th:classappend="${#fields.hasErrors('name')} ? 'is-invalid' : ''"
                       placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –†–æ–ª–ª—ã, –°—É—à–∏, –°–µ—Ç—ã" required>
                <div th:if="${#fields.hasErrors('name')}"
                     th:errors="*{name}" class="invalid-feedback"></div>
                <small class="form-text">–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –º–µ–Ω—é –∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –±–ª—é–¥</small>
            </div>

            <!-- –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
            <div class="form-group">
                <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                <textarea id="description" class="form-control" th:field="*{description}"
                          rows="3" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏..."></textarea>
                <small class="form-text">–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ. –ë—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –º–µ–Ω—é</small>
            </div>

            <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
            <div class="form-group">
                <label for="imageUrl">URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</label>
                <input type="text" id="imageUrl" class="form-control" th:field="*{imageUrl}"
                       placeholder="/images/categories/sushi.jpg">
                <small class="form-text">–°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</small>

                <!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
                <div th:if="${category.imageUrl != null and !category.imageUrl.isEmpty()}"
                     class="current-image">
                    <p style="margin-bottom: 10px; font-weight: bold;">–¢–µ–∫—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:</p>
                    <img th:src="@{${category.imageUrl}}" alt="Preview" class="preview-image"
                         onerror="this.style.display='none'">
                </div>
            </div>

            <!-- –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ -->
            <div class="form-group">
                <label for="sortOrder">–ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏</label>
                <input type="number" id="sortOrder" class="form-control" th:field="*{sortOrder}"
                       min="0" value="0">
                <small class="form-text">–ß–µ–º –º–µ–Ω—å—à–µ —á–∏—Å–ª–æ, —Ç–µ–º –≤—ã—à–µ –≤ —Å–ø–∏—Å–∫–µ</small>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ -->
            <div class="form-actions" style="display: flex; gap: 10px; margin-top: 30px;">
                <button type="submit" class="btn btn-primary">
                    üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                </button>
                <a href="/admin/categories" class="btn btn-secondary">
                    –û—Ç–º–µ–Ω–∞
                </a>
            </div>
                </form>
            </div>
        </form>
    </div>
</main>
</body>
</html>