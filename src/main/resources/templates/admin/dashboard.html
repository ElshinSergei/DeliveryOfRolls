<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/admin-layout :: html(content=~{::main})}">
<head>
    <meta charset="UTF-8">
    <title th:text="${pageTitle}">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</title>
</head>
<body>
<main>
    <div class="dashboard">
        <h2>üìä –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h2>

        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-title">–ó–∞–∫–∞–∑—ã —Å–µ–≥–æ–¥–Ω—è</div>
                <div class="stat-value" th:text="${stats.todayOrders}">12</div>
                <div class="stat-sub" th:text="'–í—ã—Ä—É—á–∫–∞: ' + ${#numbers.formatDecimal(stats.todayRevenue, 0, 0)} + ' ‚ÇΩ'">
                    5 000 ‚ÇΩ
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-title">–ó–∞–∫–∞–∑—ã –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ</div>
                <div class="stat-value" th:text="${stats.pendingOrders}">5</div>
                <div class="stat-sub">–û–∂–∏–¥–∞—é—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</div>
            </div>

            <div class="stat-card">
                <div class="stat-title">–í—ã—Ä—É—á–∫–∞ –∑–∞ –Ω–µ–¥–µ–ª—é</div>
                <div class="stat-value" th:text="${#numbers.formatDecimal(stats.weekRevenue, 0, 0)} + ' ‚ÇΩ'">
                    100 000 ‚ÇΩ
                </div>
                <div class="stat-sub" th:text="'–ó–∞ –º–µ—Å—è—Ü: ' + ${#numbers.formatDecimal(stats.monthRevenue, 0, 0)} + ' ‚ÇΩ'">
                    350 000 ‚ÇΩ
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-title">–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤</div>
                <div class="stat-value" th:text="${stats.totalOrders}">156</div>
                <div class="stat-sub" th:text="'–í—ã—Ä—É—á–∫–∞: ' + ${#numbers.formatDecimal(stats.totalRevenue, 0, 0)} + ' ‚ÇΩ'">
                    450 000 ‚ÇΩ
                </div>
            </div>
        </div>

        <div class="row">
            <!-- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –±–ª—é–¥–∞ -->
            <div class="chart-card">
                <h3>üî• –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –±–ª—é–¥–∞</h3>
                <ul class="popular-list">
                    <li th:each="dish : ${stats.popularDishes}" class="popular-item">
                        <span class="popular-name" th:text="${dish.name}">–§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è</span>
                        <span class="popular-count" th:text="${dish.count} + ' –∑–∞–∫–∞–∑–æ–≤'">10</span>
                    </li>
                </ul>
                <div th:if="${stats.popularDishes == null or stats.popularDishes.isEmpty()}"
                     style="text-align: center; color: #666; padding: 20px;">
                    –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∑–∞–∫–∞–∑–∞—Ö
                </div>
            </div>

            <!-- –î—Ä—É–≥–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div class="chart-card">
                <h3>üì¶ –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                <table style="width: 100%;">
                    <tr style="border-bottom: 1px solid #eee;">
                        <td style="padding: 10px 0;">–í—Å–µ–≥–æ –±–ª—é–¥:</td>
                        <td style="padding: 10px 0; text-align: right; font-weight: bold;"
                            th:text="${stats.totalDishes}">25</td>
                    </tr>
                    <tr style="border-bottom: 1px solid #eee;">
                        <td style="padding: 10px 0;">–î–æ—Å—Ç—É–ø–Ω–æ –±–ª—é–¥:</td>
                        <td style="padding: 10px 0; text-align: right; font-weight: bold;"
                            th:text="${stats.availableDishes}">20</td>
                    </tr>
                    <tr style="border-bottom: 1px solid #eee;">
                        <td style="padding: 10px 0;">–ö–∞—Ç–µ–≥–æ—Ä–∏–π:</td>
                        <td style="padding: 10px 0; text-align: right; font-weight: bold;"
                            th:text="${stats.totalCategories}">5</td>
                    </tr>
                    <tr style="border-bottom: 1px solid #eee;">
                        <td style="padding: 10px 0;">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</td>
                        <td style="padding: 10px 0; text-align: right; font-weight: bold;"
                            th:text="${stats.totalUsers}">45</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px 0;">–ù–æ–≤—ã—Ö —Å–µ–≥–æ–¥–Ω—è:</td>
                        <td style="padding: 10px 0; text-align: right; font-weight: bold;"
                            th:text="${stats.newTodayUsers}">3</td>
                    </tr>
                </table>
            </div>
        </div>

    </div>
</main>
</body>
</html>